@(id: Int, year: Int, volumeId: Int, authors: Iterable[slick.internal.Tables.CopyrighttransferRow],
        journals: List[models.reports.Journal], yearsActive: List[Int], issues: List[(Long, String)])(implicit request: Request[AnyContent])

@main("All authors") {
    <h1>Journal manager</h1>

    <style type="text/css">
        #table-filter {
            padding: 10px 0px;
        }

        .gap-sides {
            margin: 0px 10px;
        }

        #data-table td:first-child, #data-table th:first-child {
            text-align: center;
        }

        .green {
            color: #1be533;
        }

        .red {
            color: #e51b24;
        }
    </style>

    @helper.form(action = routes.Authors.generateReport(), 'id -> "authors-form") {
        <div>
            <div>
                <div class="form-inline">
                    <div class="form-group">
                        <span>Journal</span>
                        <select id="journal-select" class="form-control gap-sides" name="journalId">
                            @for(i <- 0 until journals.size) {
                                <option value="@journals(i).id" @if(i+1 == id) { selected="selected" } >
                                    @journals(i).title
                                </option>
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <span>Year</span>
                        <select id="year-select" class="form-control gap-sides">
                            @for(i <- 0 until yearsActive.size) {
                                <option @if(year == yearsActive(i)) { selected="selected" }>
                                @yearsActive(i)
                                </option>
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <span>Volume</span>
                        <select id="issue-select" class="form-control gap-sides">
                            <option>0</option>
                            @for(i <- 0 until issues.size) {
                                <option @if(volumeId == issues(i)._1) { selected="selected" } value="@issues(i)._1">
                                @issues(i)._2
                                </option>
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <div class="input-filter-container"><input type="search" class="form-control" placeholder="Find..." size="15" id="input-filter"></div>
                    </div>
                </div>
                <div class="form-group">
                    <div><input type="checkbox" id="show-only-confirmed"> Show only confirmed</div>
                </div>
            </form>
        </div>

            <table id="data-table" class="table table-striped">
                <thead>
                    <tr>
                        <th><input class="selected-author" type="checkbox" data-author-id="id_from_db" name="people[]"></th>
                        <th>Paper title</th>
                        <th>Confirmed</th>
                        <th>Corresp. author</th>
                        <th>Affiliation</th>
                        <th>E-mail address</th>
                        <th>Date filled</th>
                        <th>IP address</th>
                    </tr>
                </thead>
                <tbody>
                    @for((author, index) <- authors.zipWithIndex) {
                        <tr>
                            <td><input class="selected-author" type="checkbox" name="author[@index]" value="@author.id"></td>
                            <td>@author.title</td>

                            @if(author.linkconfirmed) {
                                <td><i class="glyphicon glyphicon-ok green"></i></td>
                            } else {
                                <td><i class="glyphicon glyphicon-ok red"></i></td>
                            }

                            <td>@author.correspondingname</td>
                            <td>@author.correspondingaffiliation</td>
                            <td>@author.correspondingemail</td>
                            <td>@author.dateformfilled</td>
                            <td>@author.filleripaddress</td>
                        </tr>
                    }
                </tbody>
            </table>

            <script src="@routes.Assets.at("javascripts/jquery.table-filter.js")" type="text/javascript"></script>
            <script type="text/javascript">

            $("#data-table").addTableFilter({ inputid: 'input-filter' });

            </script>
        </div>

        <div id="bottomrow" class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <button type="submit" id="generate-report" class="btn btn-default" style="margin: 20px 0; float: right;" disabled>
                        Generate report for selected consents
                    </button>
                </div>
            </div>
        </div>
    }

}
